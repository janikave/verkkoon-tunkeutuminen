# h2 - Lempiväri: violetti

## x) 
*31.10-01.11.2026*

**Tehtävänanto**:  Lue ja vastaa lyhyesti kysymyksiin[^1]: 

- Selitä tuskan pyramidin idea 1-2 virkkeellä.
- Selitä timanttimallin (Diamond Model) idea 1-2 virkkeellä.

### Tuskan pyramidi (Pyramid of Pain)[^2]

Tuskan pyramidin tarkoituksena on visualisoida hyökkääjän hyödyntämiä indikaattoreita tunkeutumista varten sillä periaatteella, että minkä estämisestä tai häirinnästä hyökkääjälle tulee eniten päänvaivaa ja harmia. 
Pyramidin pohjalla (väritykseltään siniset ja vihreät) olevien indikaattorien estäminen tuottavat vähiten vaivaa hyökkääjälle, ja pyramidia ylös noustessa hyökkääjä joutuu käyttämään enemmän aikaa ja resursseja hyökkäykseneston onnistuessa. 

### Timanttimalli (Diamond Model)[^3][^4]

Timanttimalli visualisoi verkkoontunkeutumista neljän pääkomponentin (hyökkääjä, infrastruktuuri, kyvykkyys, uhri) ja niiden välisten suhteiden kautta, mikä auttaa ymmärtämään erilaisia tunkeutumisskenaarioita ja niihin varautumista. 

## Harjoitus 

*1.11.2026*

### a) Apache log[^1]

**20:45**: Asensin Apachen Linuxiini komennolla ```sudo apt-get install apache2```.

Kävin asennuksen jälkeen muokkaamassa Apachen luomaa oletuskotisivua.

```sudo micro /var/www/htmlindex.html``` -> muokkasin micro-editorilla oletustiedostoa.

**Ennen tiedoston muokkausta**

KUVA(h2_curl.png)

**Tiedoston muokkaus**

KUVA(h2_micro.png)

**Muokkauksen jälkeen**

KUVA(h2_curl_edit.png)

**21:05**: Käynnistin Apachen komennolla ```sudo systemctl start apache2```.

KUVA(h2_apache2.png)

Avasin muokkaamani kotisivun Firefox-selaimessa localhost-osoitteessa ja avasin Apachen lokin komennolla: 

```sudo tail -F /var/log/apache2/access.log```

Lokin tallenteissa näkyy sekä aiemmat curl-pyynnöt, että sivun avaaminen selaimen kautta: 

KUVA(h2_apache2_log.png)

Toiseksi viimeisin lokimerkintä on sivun avaamisesta Firefoxilla. Lokirivi sisältää: 

- **127.0.0.1**: Pyynnön lähettänyt IP-osoite
- **[01/Nov/2025:21:08:31 +0200]**: Pyynnön ajankohta (päivämäärä, kellonaika, aikavyöhyke)
- **"GET / HTTP/1.1"**: Pyynnön tyyppi (GET) ja mitä pyydettiin (HTTP/1.1)
- **200**: HTTP:n statuskoodi (onnistunut pyyntö)
- **474**: Palautettavan objektin koko 
- **"http://localhost/"**: Sivun URL.
- **"Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0"**: Pyynnön lähettäneen palvelimen selaintietoja. 



## Lähteet 

[^1]: Karvinen, Tero: 2025-10-28. h2: Lempiväri: violetti. Luettavissa: https://terokarvinen.com/verkkoon-tunkeutuminen-ja-tiedustelu/#h2-lempivari-violetti
[^2]: Bianco, David: 2014-01-17. The Pyramid of Pain. Luettavissa: https://detect-respond.blogspot.com/2013/03/the-pyramid-of-pain.html
[^3]: Caltagirone, Sergio. The Diamond Model of Intrusion Analysis. Luettavissa: https://www.threatintel.academy/wp-content/uploads/2020/07/diamond-model.pdf
[^4]: Tidmarsh, David: 2023-11-07. Diamond Model of Intrusion Analysis: What, Why, and How to Learn. Luettavissa: https://www.eccouncil.org/cybersecurity-exchange/ethical-hacking/diamond-model-intrusion-analysis/
